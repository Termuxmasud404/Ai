<!DOCTYPE html>
<html>
<head>
  <title>The Dream Chaser - AI Image Generator</title>
  <style>
    /* Same styles as before... */
  </style>
</head>
<body>

  <h1 class="colorful-text">The Dream Chaser - AI Image Generator</h1>
  <img class="logo" src="https://i.postimg.cc/dVQ3jPcX/masud-logo.jpg" alt="Masud Rana Logo">
  
  <h2>AI Image Generator</h2>
  <input id="prompt" type="text" placeholder="Type your image description..."><br>
  <button class="btn generate-btn" onclick="generateImage()">Generate Image</button>

  <div class="spinner" id="spinner"></div>

  <div id="image-container"></div>

  <div class="footer">
    Powered by <span class="masud-blink">Masud Rana</span><br>
    <a class="btn facebook-button" href="https://www.facebook.com/profile.php?id=100078423821878" target="_blank">
      Visit My Facebook
    </a>
  </div>

  <script>
    async function generateImage() {
      const prompt = document.getElementById("prompt").value;
      const spinner = document.getElementById("spinner");
      const imageContainer = document.getElementById("image-container");

      if (!prompt.trim()) {
        alert("Please enter a prompt.");
        return;
      }

      spinner.style.display = "block";
      imageContainer.innerHTML = "";

      try {
        console.log("Sending request to Hugging Face API...");
        
        const response = await fetch("https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-2", {
          method: "POST",
          headers: {
            "Authorization": "Bearer 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", // Replace with your actual token
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ inputs: prompt })
        });

        console.log("Response status:", response.status);
        if (!response.ok) {
          throw new Error("Failed to generate image. Status: " + response.status);
        }

        const blob = await response.blob();
        const imageUrl = URL.createObjectURL(blob);
        imageContainer.innerHTML = `<img src="${imageUrl}" alt="Generated image">`;

      } catch (error) {
        console.error("Error occurred:", error);
        imageContainer.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
      } finally {
        spinner.style.display = "none";
      }
    }
  </script>

</body>
</html>
